{
	"info": {
		"_postman_id": "height-estimation-api",
		"name": "Building Height Estimation API",
		"description": "NASA DEM-based building height estimation with batch processing",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Single Location Height Estimation",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"coordinates\": {\n    \"bounds\": {\n      \"minLat\": 40.7589,\n      \"maxLat\": 40.7614,\n      \"minLng\": -73.9776,\n      \"maxLng\": -73.9751\n    }\n  },\n  \"userId\": \"demo_user_001\",\n  \"analysisType\": \"buildings\",\n  \"resolution\": \"high\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/api/height/estimate",
					"host": ["{{baseUrl}}"],
					"path": ["api", "height", "estimate"]
				}
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"coordinates\": {\n    \"bounds\": {\n      \"minLat\": 40.7589,\n      \"maxLat\": 40.7614,\n      \"minLng\": -73.9776,\n      \"maxLng\": -73.9751\n    }\n  },\n  \"userId\": \"demo_user_001\",\n  \"analysisType\": \"buildings\",\n  \"resolution\": \"high\"\n}"
						},
						"url": {
							"raw": "http://localhost:8000/api/height/estimate",
							"host": ["http", "localhost", "8000"],
							"path": ["api", "height", "estimate"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{"key": "Content-Type", "value": "application/json; charset=utf-8"}
					],
					"cookie": [],
					"body": "{\n  \"success\": true,\n  \"processingId\": \"height_1751234567890_abc123def\",\n  \"message\": \"Building height estimation completed successfully\",\n  \"results\": {\n    \"buildings\": [\n      {\n        \"buildingId\": \"bld_001\",\n        \"coordinates\": {\"lat\": 40.7601, \"lng\": -73.9764},\n        \"estimatedHeight\": 89.4,\n        \"groundElevation\": 12.8,\n        \"floorEstimate\": 25,\n        \"confidence\": 0.89,\n        \"category\": \"high\",\n        \"detectionMethod\": \"NASA_DEM_SRTM\",\n        \"metadata\": {\n          \"shadowLength\": 45.2,\n          \"buildingFootprint\": 850.5,\n          \"roofType\": \"flat\"\n        }\n      },\n      {\n        \"buildingId\": \"bld_002\",\n        \"coordinates\": {\"lat\": 40.7595, \"lng\": -73.9758},\n        \"estimatedHeight\": 156.7,\n        \"groundElevation\": 11.2,\n        \"floorEstimate\": 42,\n        \"confidence\": 0.92,\n        \"category\": \"skyscraper\",\n        \"detectionMethod\": \"NASA_DEM_ASTER\",\n        \"metadata\": {\n          \"shadowLength\": 78.9,\n          \"buildingFootprint\": 1245.8,\n          \"roofType\": \"complex\"\n        }\n      }\n    ],\n    \"summary\": {\n      \"totalBuildings\": 2,\n      \"averageHeight\": 123.05,\n      \"maxHeight\": 156.7,\n      \"minHeight\": 89.4,\n      \"heightDistribution\": {\n        \"low\": 0,\n        \"medium\": 0,\n        \"high\": 1,\n        \"skyscraper\": 1\n      },\n      \"confidenceScore\": 0.905,\n      \"heightStdDev\": 47.59\n    }\n  },\n  \"metadata\": {\n    \"processingTime\": 4567,\n    \"resolution\": \"30m\",\n    \"areaSize\": \"0.0625 km²\",\n    \"demSource\": \"NASA_SRTM_ASTER\"\n  }\n}"
				}
			]
		},
		{
			"name": "Point + Radius Height Estimation",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"coordinates\": {\n    \"lat\": 40.7614,\n    \"lng\": -73.9776,\n    \"radius\": 1000\n  },\n  \"userId\": \"demo_user_001\",\n  \"analysisType\": \"buildings\",\n  \"resolution\": \"medium\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/api/height/estimate",
					"host": ["{{baseUrl}}"],
					"path": ["api", "height", "estimate"]
				}
			}
		},
		{
			"name": "Batch Height Estimation",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"locations\": [\n    {\n      \"name\": \"Times Square Area\",\n      \"bounds\": {\n        \"minLat\": 40.7589,\n        \"maxLat\": 40.7614,\n        \"minLng\": -73.9876,\n        \"maxLng\": -73.9851\n      }\n    },\n    {\n      \"name\": \"Central Park South\",\n      \"bounds\": {\n        \"minLat\": 40.7614,\n        \"maxLat\": 40.7639,\n        \"minLng\": -73.9851,\n        \"maxLng\": -73.9826\n      }\n    },\n    {\n      \"name\": \"Columbus Circle\",\n      \"bounds\": {\n        \"minLat\": 40.7639,\n        \"maxLat\": 40.7664,\n        \"minLng\": -73.9826,\n        \"maxLng\": -73.9801\n      }\n    }\n  ],\n  \"userId\": \"batch_user_001\",\n  \"analysisType\": \"buildings\",\n  \"resolution\": \"high\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/api/height/batch",
					"host": ["{{baseUrl}}"],
					"path": ["api", "height", "batch"]
				}
			},
			"response": [
				{
					"name": "Batch Processing Started",
					"originalRequest": {
						"method": "POST",
						"body": {
							"mode": "raw",
							"raw": "{\n  \"locations\": [\n    {\n      \"name\": \"Times Square Area\",\n      \"bounds\": {\n        \"minLat\": 40.7589,\n        \"maxLat\": 40.7614,\n        \"minLng\": -73.9876,\n        \"maxLng\": -73.9851\n      }\n    }\n  ]\n}"
						}
					},
					"status": "Accepted",
					"code": 202,
					"body": "{\n  \"message\": \"Batch height estimation started\",\n  \"batchId\": \"batch_1751234567890_xyz789\",\n  \"totalLocations\": 3,\n  \"estimatedTime\": \"8-15 minutes\",\n  \"results\": [\n    {\n      \"locationName\": \"Times Square Area\",\n      \"processingId\": \"height_1751234567891_abc001\",\n      \"status\": \"queued\"\n    },\n    {\n      \"locationName\": \"Central Park South\",\n      \"processingId\": \"height_1751234567892_abc002\",\n      \"status\": \"queued\"\n    },\n    {\n      \"locationName\": \"Columbus Circle\",\n      \"processingId\": \"height_1751234567893_abc003\",\n      \"status\": \"queued\"\n    }\n  ]\n}"
				}
			]
		},
		{
			"name": "Get Height Statistics",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/api/height/statistics?userId=demo_user_001&timeframe=30days&region=manhattan",
					"host": ["{{baseUrl}}"],
					"path": ["api", "height", "statistics"],
					"query": [
						{"key": "userId", "value": "demo_user_001"},
						{"key": "timeframe", "value": "30days"},
						{"key": "region", "value": "manhattan"}
					]
				}
			},
			"response": [
				{
					"name": "Statistics Response",
					"status": "OK",
					"code": 200,
					"body": "{\n  \"statistics\": {\n    \"totalAnalyses\": 45,\n    \"totalBuildings\": 1,234,\n    \"averageHeight\": 78.5,\n    \"maxHeight\": 381.0,\n    \"minHeight\": 12.4,\n    \"heightDistribution\": {\n      \"low (0-30m)\": 589,\n      \"medium (30-100m)\": 456,\n      \"high (100-200m)\": 145,\n      \"skyscraper (200m+)\": 44\n    },\n    \"averageConfidence\": 0.847,\n    \"processingStats\": {\n      \"averageProcessingTime\": 5234,\n      \"successRate\": 98.7,\n      \"totalAreaAnalyzed\": \"45.67 km²\"\n    }\n  },\n  \"period\": {\n    \"timeframe\": \"30days\",\n    \"startDate\": \"2025-05-31T00:00:00.000Z\",\n    \"endDate\": \"2025-06-30T23:59:59.999Z\"\n  },\n  \"region\": \"manhattan\"\n}"
				}
			]
		},
		{
			"name": "Error - Invalid Coordinates",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"coordinates\": {},\n  \"userId\": \"test_user\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/api/height/estimate",
					"host": ["{{baseUrl}}"],
					"path": ["api", "height", "estimate"]
				}
			},
			"response": [
				{
					"name": "Error Response",
					"status": "Bad Request",
					"code": 400,
					"body": "{\n  \"error\": \"Invalid coordinates format. Provide either 'bounds' object or 'lat'/'lng' with optional 'radius'\"\n}"
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8000"
		}
	]
}
